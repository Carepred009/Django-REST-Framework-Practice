<html>
<head>
    <title></title>
</head>


<body>
    <h2> ADD Product</h2>
    <form id="product_form" method="POST">
            {% csrf_token%}
        <input type="text" id="name" placeholder="Name"><br>


        <button type="submit">Submit button</button>

    </form>

<script>
    const form = document.getElementById("product_form");

    form.addEventListener("submit", function(e) {
        e.preventDefault(); // stop page reload

        const data = {
            name: document.getElementById("name").value,
        };

        const csrfToken = document.querySelector("[name=csrfmiddlewaretoken]").value;

        fetch("myapp/category/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": csrfToken
            },
            body: JSON.stringify(data)
        });
    });
</script>

</body>
</html>